"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.app = void 0;
const Koa = require("koa");
const cors = require("@koa/cors");
const BodyParser = require("koa-bodyparser");
const logger = require("koa-logger");
const register_1 = require("./endpoints/register");
const auth_1 = require("./endpoints/auth");
const tasks_1 = require("./endpoints/tasks/tasks");
const mongo_1 = require("./server/mongo");
const errorResponse_1 = require("./middlewares/errorResponse");
exports.app = new Koa();
mongo_1.default(exports.app);
exports.app.use(errorResponse_1.default());
exports.app.use(cors());
exports.app.use(logger());
exports.app.use(BodyParser());
exports.app.use(register_1.regiterRouter.routes()).use(register_1.regiterRouter.allowedMethods());
exports.app.use(auth_1.authRouter.routes()).use(auth_1.authRouter.allowedMethods());
exports.app.use(tasks_1.tasksRouter.routes()).use(tasks_1.tasksRouter.allowedMethods());
exports.app.listen(3000);
